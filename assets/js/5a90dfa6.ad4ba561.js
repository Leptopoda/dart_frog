"use strict";(self.webpackChunkdart_frog_docs=self.webpackChunkdart_frog_docs||[]).push([[641],{2346:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=i(5893),r=i(1151);const o={sidebar_position:3,title:"\ud83c\udf0a Digital Ocean App Platform"},s="Digital Ocean App Platform \ud83c\udf0a",a={id:"deploy/digital-ocean-app-platform",title:"\ud83c\udf0a Digital Ocean App Platform",description:"App Platform is a service from Digital Ocean that helps you launch apps quickly while they manage the underlying infrastructure.",source:"@site/docs/deploy/digital-ocean-app-platform.md",sourceDirName:"deploy",slug:"/deploy/digital-ocean-app-platform",permalink:"/docs/deploy/digital-ocean-app-platform",draft:!1,unlisted:!1,editUrl:"https://github.com/VeryGoodOpenSource/dart_frog/tree/main/docs/docs/deploy/digital-ocean-app-platform.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"\ud83c\udf0a Digital Ocean App Platform"},sidebar:"docs",previous:{title:"\ud83c\udfc3 AWS App Runner",permalink:"/docs/deploy/aws-app-runner"},next:{title:"\ud83d\udc8e Clever Cloud",permalink:"/docs/deploy/clever-cloud"}},c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Deploying",id:"deploying",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"digital-ocean-app-platform-",children:"Digital Ocean App Platform \ud83c\udf0a"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.digitalocean.com/products/app-platform",children:"App Platform"})," is a service from ",(0,t.jsx)(n.a,{href:"https://www.digitalocean.com",children:"Digital Ocean"})," that helps you launch apps quickly while they manage the underlying infrastructure."]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before you get started, if you haven't already completed these steps, you'll have to:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create a free ",(0,t.jsx)(n.a,{href:"https://cloud.digitalocean.com/registrations/new",children:"Digital Ocean account"})," (or sign in with Google or GitHub)."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["You can incur costs when running this quickstart! For more details, see ",(0,t.jsx)(n.a,{href:"https://www.digitalocean.com/pricing/app-platform",children:"App Platform Pricing"})," and ",(0,t.jsx)(n.a,{href:"https://www.digitalocean.com/pricing/container-registry",children:"Container Registry Pricing"}),"."]})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["Install ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})," on your machine and run it. You can verify it is set up correctly by running:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker images\n"})}),"\n",(0,t.jsxs)(n.p,{children:["(If Docker is running, the command will print the images on your machine. If not, it will print something like ",(0,t.jsx)(n.code,{children:"Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?"}),")"]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Install the ",(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/reference/doctl/how-to/install",children:"Digital Ocean CLI (doctl)"})," on your machine."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/reference/api/create-personal-access-token",children:"Create a Digital Ocean API Token"})," for your account with read and write access, then use it to give ",(0,t.jsx)(n.code,{children:"doctl"})," access to your account by running (it will prompt you for the access token):"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"doctl auth init --context [NAME]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[NAME]"}),": A new name for the authentication context."]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["You can switch authentication contexts in ",(0,t.jsx)(n.code,{children:"doctl"})," buy running:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"doctl auth switch --context [NAME]\n"})})]}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Give Docker permission to push images to Digital Ocean by running:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"doctl registry login\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsxs)(n.li,{children:["Create a Container Registry. This can be done in the ",(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/products/container-registry/quickstart/#create-a-registry",children:"Digital Ocean console"}),", or by running:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"doctl registry create [REGISTRY_NAME] --region [REGION]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[REGISTRY_NAME]"}),": A name for the newly created registry."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[REGION]"}),": The Digital Ocean region the registry should reside in (ex: sfo1)"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Be creative - registry names must be unique across all Digital Ocean container registries."})}),"\n",(0,t.jsx)(n.h2,{id:"deploying",children:"Deploying"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Build your API for production use by running:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"dart_frog build\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This will create a ",(0,t.jsx)(n.code,{children:"/build"})," directory with all the files needed to deploy your API."]}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Build your API using Docker by running:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker build build \\\n  --tag registry.digitalocean.com/[REGISTRY]/[IMAGE_NAME]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[REGISTRY]"}),": The name of the registry you created earlier"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[IMAGE_NAME]"}),": A name given to this image to identify it in the registry"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This command will build the Docker image on your machine and can take up to a few minutes."}),"\n",(0,t.jsxs)(n.admonition,{type:"caution",children:[(0,t.jsx)(n.p,{children:"Since this step requires building an image on your own hardware make sure the image is compatible with the hardware used by Digital Ocean before proceeding."}),(0,t.jsx)(n.p,{children:"For example, if you build on an M1 CPU, the generated image will not be able to run on an Intel CPU."})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"We recommend using an automated workflow via GitHub Actions to automate deployments and ensure a consistent environment when building your image."})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Push the image to Container Registry by running:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker push registry.digitalocean.com/[REGISTRY]/[IMAGE_NAME]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You should now see your repository in the ",(0,t.jsx)(n.a,{href:"https://cloud.digitalocean.com/registry",children:"Container Registry page"})]}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create your App by following ",(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/products/app-platform/how-to/deploy-from-container-images/#deploy-resource-using-a-container-image-as-the-source",children:"these instructions"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Congratulations! You have successfully built and deployed your API to App Platform. You can now access your API via the URL at the top of the app\u2019s overview page \ud83c\udf89"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/products/app-platform",children:"App Platform docs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"https://docs.digitalocean.com/reference/doctl",children:[(0,t.jsx)(n.code,{children:"doctl"})," CLI reference"]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/products/app-platform/how-to/manage-domains",children:"Adding a custom domain in App Platform"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.digitalocean.com/products/app-platform/how-to/view-logs",children:"View logs in App Platform"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>s});var t=i(7294);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);